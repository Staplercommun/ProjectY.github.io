<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ü–µ—Ä–µ—Ä—ã–≤</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
    }
    .video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: -1;
    }
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: -1;
    }
    .main-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      color: #fff;
      text-align: center;
      padding: 20px;
      position: relative;
      z-index: 1;
    }
    .break-timer {
      font-size: 3rem;
      margin: 20px 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
    }
    button {
      padding: 10px 20px;
      font-size: 1.2rem;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background: #6200ea;
      color: #fff;
      margin: 10px;
      transition: background 0.3s;
    }
    button:hover {
      background: #3700b3;
    }
    .light button {
      background: #03dac6;
      color: #000;
    }
    .light button:hover {
      background: #018786;
    }
    .light .main-container {
      color: #000;
    }
    .light .break-timer {
      text-shadow: 2px 2px 4px rgba(255, 255, 255, 0.7);
    }
    .notification-container {
      position: fixed;
      top: 10px;
      right: 10px;
      z-index: 1000;
    }
    .notification {
      background: #6200ea;
      color: #fff;
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .light .notification {
      background: #03dac6;
      color: #000;
    }
    @media (max-width: 600px) {
      .break-timer {
        font-size: 2rem;
      }
      button {
        font-size: 1rem;
        padding: 8px 16px;
      }
    }
  </style>
</head>
<body>
  <video class="video-background" autoplay muted loop playsinline poster="nature-fallback.jpg">
    <source src="Calm nature.mp4" type="video/mp4">
    <img src="nature-fallback.jpg" alt="Nature fallback">
  </video>
  <div class="overlay"></div>
  <header>
    <h1>–ü–µ—Ä–µ—Ä—ã–≤</h1>
    <div>
      <button id="theme-toggle">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</button>
      <nav>
        <a href="base.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="info.html">–ò–Ω—Ñ–æ</a>
        <a href="advice.html">–°–æ–≤–µ—Ç—ã</a>
        <a href="test.html">–¢–µ—Å—Ç</a>
        <a href="game.html">–ò–≥—Ä–∞</a>
        <a href="infographic.html">–ò–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫–∞</a>
        <a href="break.html">–ü–µ—Ä–µ—Ä—ã–≤</a>
        <a href="profile.html" id="profile-link">–ü—Ä–æ—Ñ–∏–ª—å</a>
        <a href="login.html" id="login-link">–í–æ–π—Ç–∏</a>
        <a href="register.html" id="register-link">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
      </nav>
    </div>
  </header>
  <main class="main-container">
    <h2>–°–¥–µ–ª–∞–π –ø–µ—Ä–µ—Ä—ã–≤, –±—Ä–æ! üòé</h2>
    <p>–†–∞—Å—Å–ª–∞–±—å—Å—è, –ø–æ–¥—ã—à–∏, —Ä–∞–∑–æ–º–Ω–∏—Å—å. –ù–∞—Å—Ç—Ä–æ–π —Ç–∞–π–º–µ—Ä –∏ —á–∏–ª—å!</p>
    <div class="break-timer" id="timer">05:00</div>
    <button id="start-timer">–°—Ç–∞—Ä—Ç</button>
    <button id="reset-timer">–°–±—Ä–æ—Å</button>
    <button id="toggle-background">–û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω</button>
  </main>
  <div class="notification-container" id="notification-container"></div>
  <footer>¬© 2025 ST. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –¢–∞—Ö–∏—Ä</footer>
  <script>
    // Theme & Nav
    const toggle = document.getElementById('theme-toggle');
    const currentTheme = localStorage.getItem('theme') || 'light';
    document.body.classList.add(currentTheme);
    toggle.textContent = currentTheme === 'light' ? '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞' : '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
    toggle.onclick = () => {
      const newTheme = document.body.classList.contains('light') ? 'dark' : 'light';
      document.body.classList.replace(document.body.classList.contains('light') ? 'light' : 'dark', newTheme);
      localStorage.setItem('theme', newTheme);
      toggle.textContent = newTheme === 'light' ? '–¢—ë–º–Ω–∞—è —Ç–µ–º–∞' : '–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞';
    };
    const currentUser = localStorage.getItem('currentUser');
    if (currentUser) {
      document.getElementById('login-link').style.display = 'none';
      document.getElementById('register-link').style.display = 'none';
    }
    // Notification system
    const adviceList = [
      '–î–µ–ª–∞–π—Ç–µ –ø–µ—Ä–µ—Ä—ã–≤—ã –∫–∞–∂–¥—ã–π —á–∞—Å –∏–≥—Ä—ã –¥–ª—è —Ä–∞–∑–º–∏–Ω–∫–∏ –∏ –æ—Ç–¥—ã—Ö–∞.',
      '–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –≥–∏–º–Ω–∞—Å—Ç–∏–∫—É –¥–ª—è –≥–ª–∞–∑: —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–¥–∞–ª—å, –¥–µ–ª–∞–π—Ç–µ –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è.',
      '–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—Ä–µ–º—è –∏–≥—Ä—ã –¥–æ 1‚Äì2 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å.',
      '–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —ç—Ä–≥–æ–Ω–æ–º–∏–∫—É: –º–æ–Ω–∏—Ç–æ—Ä –Ω–∞ —É—Ä–æ–≤–Ω–µ –≥–ª–∞–∑, –∫—Ä–µ—Å–ª–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–ø–∏–Ω—ã.',
      '–û–±–µ—Å–ø–µ—á—å—Ç–µ —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ –æ—Å–≤–µ—â–µ–Ω–∏–µ –±–µ–∑ –±–ª–∏–∫–æ–≤.',
      '–î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–∑–∏—á–µ—Å–∫—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: –ø—Ä–æ–≥—É–ª–∫–∏ –∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —É–∫—Ä–µ–ø–ª—è—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ.'
    ];
    function showNotification(message) {
      if (localStorage.getItem('notifications') === 'disabled') return;
      const container = document.getElementById('notification-container');
      const notif = document.createElement('div');
      notif.className = 'notification';
      notif.innerHTML = `<span>${message}</span><button onclick="this.parentElement.remove()">‚úñ</button>`;
      container.appendChild(notif);
      setTimeout(() => notif.remove(), 5000);
    }
    const users = JSON.parse(localStorage.getItem('users') || '[]');
    const user = users.find(u => u.email === currentUser);
    if (user && user.subscribed) {
      setInterval(() => {
        const randomAdvice = adviceList[Math.floor(Math.random() * adviceList.length)];
        showNotification(`–°–æ–≤–µ—Ç: ${randomAdvice}`);
      }, 60000);
    }
    setTimeout(() => showNotification('–ù–æ–≤–æ—Å—Ç—å: –°–∫–æ—Ä–æ –Ω–æ–≤—ã–π –∏–≤–µ–Ω—Ç!'), 5000);
    setTimeout(() => showNotification('–õ–°: –ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?'), 10000);
    // Timer
    const timerDisplay = document.getElementById('timer');
    const startBtn = document.getElementById('start-timer');
    const resetBtn = document.getElementById('reset-timer');
    let timerInterval;
    let timeLeft = 300;
    function updateTimer() {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      if (timeLeft <= 0) {
        clearInterval(timerInterval);
        showNotification('–ü–µ—Ä–µ—Ä—ã–≤ –æ–∫–æ–Ω—á–µ–Ω! –ü–æ—Ä–∞ –≥—Ä–∏–Ω–¥–∏—Ç—å! üòé');
        startBtn.textContent = '–°—Ç–∞—Ä—Ç';
        timeLeft = 300;
        updateTimer();
      }
      timeLeft--;
    }
    startBtn.onclick = () => {
      if (startBtn.textContent === '–°—Ç–∞—Ä—Ç') {
        timerInterval = setInterval(updateTimer, 1000);
        startBtn.textContent = '–ü–∞—É–∑–∞';
      } else {
        clearInterval(timerInterval);
        startBtn.textContent = '–°—Ç–∞—Ä—Ç';
      }
    };
    resetBtn.onclick = () => {
      clearInterval(timerInterval);
      timeLeft = 300;
      updateTimer();
      startBtn.textContent = '–°—Ç–∞—Ä—Ç';
    };
    // Background toggle
    const video = document.querySelector('.video-background');
    const overlay = document.querySelector('.overlay');
    const toggleBgBtn = document.getElementById('toggle-background');
    toggleBgBtn.onclick = () => {
      if (video.style.display === 'none') {
        video.style.display = 'block';
        overlay.style.display = 'block';
        toggleBgBtn.textContent = '–û—Ç–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω';
      } else {
        video.style.display = 'none';
        overlay.style.display = 'none';
        toggleBgBtn.textContent = '–í–∫–ª—é—á–∏—Ç—å —Ñ–æ–Ω';
      }
    };
  </script>
</body>
</html>